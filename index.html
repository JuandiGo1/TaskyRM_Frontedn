<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&family=Roboto+Flex:opsz,wght@8..144,100..1000&display=swap" rel="stylesheet">
    <title>TaskyApp</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <!-- <h1>TaskyRM</h1> -->
            <img src="./public/taskyrm logo.png" alt="TaskyRM Logo" class="logo">
        </header>

        <main>
            <section id="auth-section">
                <div id="login-form">
                    <h2>Iniciar Sesión</h2>
                    <form id="loginForm">
                        <input type="text" id="loginUsername" placeholder="Usuario" required>
                        <input type="password" id="loginPassword" placeholder="Contraseña" required>
                        <button type="submit">Iniciar Sesión</button>
                        <p id="login-error" class="error-message"></p>
                    </form>
                    <p>¿No tienes cuenta? <a href="#" id="show-register-link">Regístrate</a></p>
                </div>

                <div id="register-form" style="display: none;">
                    <h2>Regístrate</h2>
                    <form id="registerForm">
                        <input type="text" id="registerUsername" placeholder="Usuario" required>
                        <input type="password" id="registerPassword" placeholder="Contraseña" required>
                        <button type="submit">Registrarse</button>
                        <p id="register-error" class="error-message"></p>
                    </form>
                    <p>¿Ya tienes cuenta? <a href="#" id="show-login-link">Inicia Sesión</a></p>
                </div>
            </section>


            <section id="task-section" style="display: none;">
                <div class="controls">
                    <div class="logout-container">
                        <img id="logout-button" src="./public/log out logo.svg" alt="Cerrar sesión" class="logout-icon" />
                        <div class="tooltip">Cerrar sesión</div>
                    </div>
                    <select id="filter-tasks">
                        <option value="pending">Pendientes</option>
                        <option value="all">Todas las tareas</option>                       
                        <option value="completed">Completadas</option>
                    </select>
                </div>
                

                <div id="task-form">
                    <h2>Agregar Nueva Tarea</h2>
                    <form id="addTaskForm">
                        <input type="text" id="taskTitle" placeholder="Título de la tarea" required>
                        <textarea id="taskDescription" placeholder="Descripción"></textarea>
                        <label for="taskDueDate">Fecha de Vencimiento:</label>
                        <input type="date" id="taskDueDate">
                        <select id="taskPriority">
                            <option value="Puedo procastinar 🥱">Puedo procastinar 🥱</option>
                            <option value="Deberia ir haciendo esto 🙂‍↕️">Deberia ir haciendo esto 🙂‍↕️</option>
                            <option value="Ahora o nunca! 😨">Ahora o nunca! 😨</option>
                        </select>
                        <button type="submit">Agregar Tarea</button>
                        <p id="add-task-error" class="error-message"></p>
                    </form>
                </div>

                <div id="task-list-container">
                    <h2>Lista de Tareas</h2>
                    <ul id="task-list">
                        <!-- Las tareas se agregarán aquí -->
                    </ul>
                </div>
            </section>
        </main>

            <!-- Diálogo de confirmación personalizado -->
            <div id="confirmation-modal" class="modal">
                <div class="modal-content">
                    <h3>Confirmar acción</h3>
                    <p id="modal-message">¿Estás seguro de que deseas realizar esta acción?</p>
                    <div class="modal-buttons">
                        <button id="modal-cancel" class="modal-button cancel-button">Cancelar</button>
                        <button id="modal-confirm" class="modal-button confirm-button">Confirmar</button>
                    </div>
                </div>
            </div>

            <!-- Modal para edición de tareas -->
            <div id="edit-task-modal" class="modal">
                <div class="modal-content">
                    <h3>Editar Tarea</h3>
                    <form id="edit-task-form">
                        <input type="text" id="edit-task-title" placeholder="Título de la tarea" required>
                        <textarea id="edit-task-description" placeholder="Descripción"></textarea>
                        <label for="edit-task-due-date">Fecha de Vencimiento:</label>
                        <input type="date" id="edit-task-due-date">
                        <select id="edit-task-priority">
                            <option value="Puedo procastinar 🥱">Puedo procastinar 🥱</option>
                            <option value="Deberia ir haciendo esto 🙂‍↕️">Deberia ir haciendo esto 🙂‍↕️</option>
                            <option value="Ahora o nunca! 😨">Ahora o nunca! 😨</option>
                        </select>
                        <div class="modal-buttons">
                            <button type="button" id="edit-task-cancel" class="modal-button cancel-button">Cancelar</button>
                            <button type="submit" class="modal-button confirm-button">Guardar Cambios</button>
                        </div>
                        <p id="edit-task-error" class="error-message"></p>
                    </form>
                </div>
            </div>

        <footer>
            <p>© 2025 TaskyRM - Frontend por JMJ</p>
        </footer>
    </div>
    <script type="module" src="js/app.js"></script>
</body>
</html>